pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
poke(0x5f54,0x60)
r=rnd
s=r(-1)
s1=0
s2=0
c=circ
p=0
xi=0
yi=0
rev_x=0
rev_y=0
cx=0
cy=0
f=100
max_f=100
mir_lab={}
mirror=0

menuitem(1, "display controls", function()
 poke(24364,0)
  while not (btnp(4) or btnp(5)) do 
   cls()
   print("use arrow keys to move map",7)
   print("z/üÖæÔ∏è is mod button",7)
   print("x/‚ùé to take a screenshot",7)
   print("")
   print("z/üÖæÔ∏è + x/‚ùé to record gif",7)
   print("z/üÖæÔ∏è + arrow keys to change seed",7)
   print("")
   print("press z/üÖæÔ∏è  or x/‚ùé to return to\nthe game")
   flip()
  end
 poke(24364,mirror)
 cls()
 _init()
end)

function q()return r(32)-16end
function _init()
s=abs(s)
f=max_f
srand(s)
local ss=split(tostr(s),".",false)
s1,s2=ss[1],ss[2]
if(not s2)s2="0000"
cls()
pal({q(),q(),q(),q(),q(),0,7},1)
fillp(r({
‚àß,‚ñë,‚Ä¶,‚ñà,‚ñà,
‚ñà,‚ñ•,‚ñí,‚ô™,‚ñ§
}))
--fillp(‚àß)
xi=r({12,16,32,32,64})
yi=r({12,16,32,32,64})
while (xi<=16 and yi<=16) do
 if r()>.5 then
  xi=r({12,16,32,32,64})
 else 
  yi=r({12,16,32,32,64})
 end
end

rev_x=r({true,false})
rev_y=r({true,false})
end
function _seed_print()
 while #s2<4 do 
  s2 = s2.."0"
 end
 s2 = s2..r({"‚¨áÔ∏è","‚ñë","‚ñà","‚¨áÔ∏è","‚óè","üÖæÔ∏è","‚¨áÔ∏è"})
 while #s1<5 do 
  s1 = "0"..s1
 end
 s1=s1..r({"a","e","b","r","e","r"})
 mirror=r({0,5,5,5,6,7})
 mir_lab={}
 mir_lab[0]=""
 mir_lab[5]="|"
 mir_lab[6]="-"
 mir_lab[7]="x"
 while f>0 do 
  cls()
  poke(24364,0)
  print("\^#\^w\^tcalibrating seed",0,40,7)
  print("\^#metalayer:\t \t \t \t  "..s1,7)
  print("\^#orientation:\t \t \t \t  "..s2,7)
  print("\^#cognitive buffer:\t \t \t"..f/max_f,7)
  print("\^#planar symmetry:\t \t \t \t   "..mir_lab[mirror],7)
  print("\^#color compression:\t  \f1‚ñà\f2‚ñà\f3‚ñà\f4‚ñà\f5‚ñà")
  f-=1
  flip()
  _seed_input()
 end
 cls()
 poke(24364,mirror)
end

function _seed_input()
 if(btnp(3))s-=r({.0001,.0002,.0003,.0005,.0007}) _init() _seed_print()
 if(btnp(2))s+=r({.0001,.0002,.0003,.0005,.0007}) _init() _seed_print()
 if(btnp(0))s-=r({1,2,3,5,7}) _init() _seed_print()
 if(btnp(1))s+=r({1,2,3,5,7}) _init() _seed_print()
end

_init()
_seed_print()

::_::
for x=-640+cx,640+cx,xi do
 for y=-640+cy,640+cy,yi do
  c(x,y,r(10)+1,r(6))
 end
end
for x=0,128,8do
 for y=0,128,8do
  if(rev_x)x=128-x
  if(rev_y)y=128-y
  if r()>.5 then
  	sspr(x+r(4)-r(4),y+r(4)-r(4),8,8,y+r(4)-r(4),x+r(4)-r(4),
  	r(4)+7,r(4)+7)
  else	
  	sspr(x+r(4)-r(4),y+r(4)-r(4),8,8,x+r(4)-r(4),y+r(4)-r(4),
  	r(4)+7,r(4)+7)
  end
 end
end 
srand(s)
--print("\^#"..xi.." "..yi,0,0,7)
flip()
--if(t()%5<=0.01)extcmd("reset")
if not btn(4) then 
 if(btnp(5))extcmd("screen")
 if(btn(3))cy+=1 _init() 
 if(btn(2))cy-=1 _init()
 if(btn(0))cx-=1 _init()
 if(btn(1))cx+=1 _init()
else 
 if(btnp(5))extcmd("video")
 _seed_input()
end
-- if(f>0)print("\#"..xi.." "..yi,0,0,7)f-=1
goto _
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
01000000100000001000000000022222000c0000ccc2222000000000333000022200000033300000000000002000030000000022220003000300008000008080
10000000100000000000000000000222000c00002220000000000000000333332000000000000000000000002000003000000000200030000000008000008080
100000001000000000000000000000c200cc00000000000000000000000000333000000000000000000000002000000000000000333300000000008000000000
10000000100000000000000000000002cccc00000000000000000000000000033000003000000000000000000200000000000002333300000000008000000000
10000000100000002222200000000000cccc00000000000000000000000000003000003000000000000000000200000000000002200000000000008800000000
10000000100003000000000000000000cccc00200000000000000000000000003000003000000000333300000020000000002222000000000000008833000000
10000000100000002220000000000000cccc00200000000000000000000000000000030000000000000033000002000000000200030000000000008080330000
10000000100000000000000000000000cccc22000000000000000000000000000000300000000000000000000000220000022000000000000000008008030000
100000001000000000000000ccccccccc20000000000000000000000000000003003333330000000000000000000002222300000000000000000008000800000
10000000100000000000000022222222220000000000000000000000000200003000000000000000000000000000000000300000000000000000000000088000
100000000000000000000000c2222222220000000000000000000000000000003000000000000000000000003000000000300000000000000000000000008888
10000000000000000000000002222222200000000000000000000000000000000000000000000000000000000300000020300000000000000000000000000000
10000030000000000000000002222222200000000000000000000000000000000000000000000000000000000338000020300000000000008000000000000000
10000000000000000000000022222222200000000000000000000000000000000000000000000000000000000038000023000000000000008000000000000000
10003000000000000000000020000000200000000000000000000000000000000000000000000000000000000038000003000000000000008000000000000000
10000000000000000000000002222222200000000000000000000000300000000000000000000000000000000038000030000000000000000000000000000000
100000000000000000000000c222222222222222220000000001101030000000000000000000000000111111208cc000c0000000000000000000000000000000
0000000000000000000000002222222222000000000000000000110000000000003333330000000001111111100cc000c0000000000000000000000000000000
00000000000000000000000022222222220000000000000000000000000000000033333300000000001111111000ccccc0000000000000000000000000000000
000000000000000000000000222222222200000000000000000000000000000000033333000000000000000000000000c0000000000000000000000000000000
000000000000000000000000222222222200000000000000000000000000000000003333000000000000000000000000c0000000000000000000000000000000
22220000000000000000000022222222220008000000110000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000022222222220080000001111000000000000000000000000000000000000cccccc000000000000000000000000000000000000000
2220000000000000000000002222222222000000000111100000000000333000000000000000000000ccccccc000000000000000000000000000000000000000
00022222ccccccccc22222222222222222888880000000000000000003333333333333331133333311110000cccccccc00000000100000000000000000000000
00000222222222222222222200000000008000000000000000000000033333333333333313000000111100000000000000000000100000000000000000000000
00000002c22222222222222200000088888000000000000000000000033333333333333313000000111100000000000000000000010000000000000000000000
00000002022222222222222200000800888800000000000000000000003333333333333313000000111100000000000000000000000000000000000000000022
00000000222222222222222200008800888880000000000000000000000033333333333313000000000000000000000022200000000000000000000000000202
00000000200000002222222200088800000008000000000000000000000000333333333333000000cccc00000000000000020000000000000000000000002002
00000000022222222222222200888800000000800000000000000000000000003333333333000000cccc00000000000222000000000000000000000000020020
00000000020000002222222200888800000000800000000000000000000000003333333333000000000000000000002100200000008000000000000000020202
0000c000c2000000222222222288880000000088800000000000000033000808188111111111111100000cccc000001011100000188888888111111100022222
0000c000220000002200000000800000000000800000000000000000330000008331111118888888000000000000002020100000111111118000000000020000
000cc000220000002200000088800000000000800000000000000000330000008331111118888888000000000000000211100000111111118000000000020000
ccccc000200000002200000088880000000008000000000000000000330000001113111118888888000000000000000011100000111111118000000000002000
ccccc000200000002200000000008000000080000000000000000000111000001111331118888888000000000000000011100000111111118000000000000200
ccccc002200000002200080000000800000800000000000000000000111000000000000000000000000000000000000011100000111111118000000000002222
ccccc002200000002200800000000888888000000000000000000000001000000000000000000000000000002000000011100000111111118000000022000000
ccccc220200000002200000000000000000000000000000000000000000000000000000000000000000000001100000011100000111111118000000000200000
ccc22222000000002200000000000000800000000000000000000000000000001000000011000000c00000002010000000000000881111118888888880022000
22200000000000000000000000000000000000000000000000000000000000008000000088000000000000000000000000000000881111118888888880000000
00000000000000000000000000000000000000000000000000000000000000008000000088000000000000002000000000000000881111110000000080000000
00000000000000000000000000000000000000000000000000000000000000008000000088000000000000002000000000000000881111110000000080000000
00000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000881111110000000080000000
00000000000000000000111000000000000000000000000000000000000000008000000000000000000000000000000000000000881111110000000000000000
00000000000000000001111100000000000000000000000000000000000000008000000000000000000000000000000000000000881111110000000000000000
00000000000000000001111100000000000000000000000000000000000000008000000000000000000000000000000000000000881111110000000000000000
00000000000000000001010100000000000000000000000000000000000000008000000000000000000000002000000000000000888881118880000028888888
00000000000000000000111000000000000000000000000000000000000000000000000000000000000000002000000000000000888881118808000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000222000000000000000000000000000000008888000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000002002200000000000000000000000000000000008000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000002020200000000000000000000000000000008888000000000000
3330000200000000300000000333333333008080000000000000000000000022222222220000222222200000222220000ccccccc888888800008080880000000
000333330002000000000000033333333300000000000000000000000000220020022222000002222220000000000000cccccccccc0800000000000000000000
000003330000000000000000033333333300000000000000000000000002000020000222000000222200000000000ccccccccccccc0800000000000000000000
00000033000000000000000000033333330000000000000000000000002000000222222200000000220000000000c000cccccccccc0800000000000000000000
00000003000000000000000000000333111000000000000000000000220000000202020200000000220000000ccc00880000c0cccc0800000000000000000000
00000003000000000000000000000000111000000000000000000000220000000020202200000000220000000cc0080888888ccccc08000000000000000000c8
00000000300000000000000000000001111000000000000000000000200000000002022222200000220000000cc0008088888888cc080000000000000000cc80
00000000300000000000000000000010001000000000000000000000200000000000220022200000220000000000080000080000cc080000000000000000c800
220000003003333300000000333333331881111110000000800000002222222222000000222022220000000000000808c008888ccccccccccccccccccccccccc
20000000300000000033333333333333833111118000000000000000200022222200200022c22c2200000000ccc00808c008888ccccccccccccccccccccccccc
30000000300000000003333333333333833111118000000000000000200000222200200020c000c000000000000ccccc8088888ccccccccccccccccccccccccc
300000030000000000003333333333331113311180000000000000000222222222002002000ccc0000000000000000c8888888c8cccccccccccccccccccccccc
30000003000000000000000033333333000000008000000000000000020202002200200200000000000000000000000c888888c800000000cccccccccccccccc
00000030000000000000000033333333000000008000000000000000002020222200202200000000000020000000000088888c8800000000cccccccccccccccc
000003000000000000000000333333330000000080000000000000000002022222002222000000000000000000000000888cc8cc00000000cccccccccccccccc
000330000000000000000000333333330000000080000000000000000000220022022c22000000000000000000000000ccc8cc8800000000cccccccccc000000
3330000030000000000000001133333311111111110000000000000000002222222022220000000000000200822222228ccc2220cccccc22ccccccccc8888000
000000000000000000000000130000001888888888000000000000000000022222c22c220000000000000200822222228ccc2220cccccc22cccc2200c8888000
000000000000000000000000130000001888888888000000000000000000022220c000c00000000000000000822222228ccc2220cccccc22cccc2200c8888000
0000000000000000000000001300000018888888880000000000000000000022000ccc000000000000000000822222228ccc2220cccccc22cccc220088888000
0000000000000000000000003300000000000000000000000000000000000000000000000000000000000000822222228ccc2220cccccc222000000088888000
0000000000000000000000003300000000000000000000000000002222000000000000000000000000000000822222228ccc2220cccccc222000000088888000
0000000000000000000000003300000000000000000000000000020002000000000000000000000000000000822222228ccc2220cccccc222000000088888000
0000000000000000000000000000000000000000000000000000020020000000000000000000000000000000822222228ccc2220cccccc222000000088888000
00000000000000000001111111111000000000ccc0000000000000002220000000000000000000220000000022000000cccccccccc000000cc000000c8888000
000000000000000001111111111110000000000000000000000000002220000000000000000000220000000022000000cccccccccc000000cc00000000000000
00000000000000000001111111111000000000000000000000000000220000000000000000000000000000002200800020000000cc0000000000000000000000
00000000000000000000000011111000000000000000000000000000220000000000000000000000000000002200000020000000cc0000000000000000000000
01000000000000000000000011111000000000000000000000000000220000000002000000000000000000002200000020000000cc0000000000000000000001
00000000000000000000000000000000000000000000000000000000220000000000000000000000000000002200000020000000cc0000000001000000000001
3333000000000000000cccccccccc000000000000000000000000000220000000000200000000000000000002200000020000000cc0000000000000000000001
000033000000000000ccccccccccc000000000000000000000000000220000000000200000000000000000002200000000000000cc0000000001000000000000
2000003000000002208c00c0ccccccccc000000120100000200000002222000000000080822222222200000000000000cc0000c0c00000000000011000001100
200000030000000010cc00c000000000000000020000000020000000000000ccccc00080822222222200000000000000cc0000cc000000000000000000110000
2000000030000000100cccc0000000000000000020000000000000000000ccc0000ccccc822222222200880000000000cc0000cc000000000000000001000000
02000000030000000000000000000000000000002000000000000000000c000000000c0c822222222200000000000000cc0000cc000000000000000001008888
020000000338800000000000000000000000000020000000000000000cc08080000000c0822222222200000000000000cc0000ccc000ccc00000000010080800
020000000038800000000000000000002000000000000000000000000cc00800000000c082222222220000000000000ccc0000cc000ccc1c0000000010088000
002000000038800000000000000000021100000000000000000000000c0080000000000c8222222222000000000000c0ccc000cc000cc11c0000000000080000
0002200000300000c0000000000000102010000000000000000000000c0000000000000c822222222200000000000c00cc0c00cc000cc11c0000000000080000
0000022222300000c0000000000000101110000000000000000000000cccccccc00088888cccc222cccccccccc000c0ccccccccccccccccc111cc11cc0010000
0000000000300000c000000000000010201000000000000000000000ccccccccc00088888cccc222cccccccccc000cc0ccccccccccccccccc000000000081100
0000000000300000c000000000000001211000000000000000000000cccccccc800888888cccc22220000000cc000cc000ccccccccccccccc000000000281010
0000000020300000c000000000000000111000000000000000000000cccccccc888888888cccc22220000000cc000cccccccccccccccccccc000000002021010
00000222230000000000000000022000111000000000000000000000cccccccc888888888cccc22220000000cc000cc000000000ccccccccc000000002221810
00000020030000000000000022000000111000000000000000000000000c0c0c888888888cccc22220000000cc000cc0000000001cccccccc000000002021088
00022200300000000000000000200000111000000000000000000000888888cc888888cc8cccc22220000000ccc00cc000000000c1ccccccc000000002221000
00000003000000000000000000000000111000000000000000000000888888cc8888cc888cccc22220000000cc0c0cc00000000011ccccccc000000002028800
2200303000000000000000001000000018888888881111118888111088888888ccccccccccccc222cc000000c0000000cccccccccc1ccccccc00000002222000
20003300000000000000000010000000111111118811111188881110cc088000ccccccccccccc222cc00000000000000cccccccccc0000001110000000000000
23330000000000000000000001000000111111118811111100000000cc088000ccccccccccccc220cc00000000000000cccccccccc0000000000000000000000
33330000000000000000000000000000111111118811111100000000cc088000ccccccccccccc220cc0000000000ccc0cccccccccc0000000000000000000000
33330000000000000000000000000000111111118811111100000000cc088000ccccccccccccc220cc000000000ccccccccccccccc0000000000000000000000
20000000000000000000000000000000111111118811111100000000cc08800000000000ccccc220cc000000000ccc11cccccccccc0000000000000010003330
00000000000000000000000000000000111111118811111100000000cc08800000000000ccccc220cc000000000ccc111ccccccccc0000000000000010030003
00000000000000000000000000800000111111118811111100000000cc08800000000000ccccc220cc0000000000ccc0c11ccccccc0000000000000011130333
0300000800000080000000000000000081111111888888888880000000008088cccccccccccccccccc00000000000011111c11cccc0000000000000011111111
0000000800000000000000000000000080000000888888888808800000000000ccccccccccccc220cc00000000000000c0000000111000000000000000003333
0000000800000000000000000000000080000000000000080008800000000000ccccccccccccc2200000000000000000c0000000000000000000000000000333
0000000800000000000000000000000080000000000000080008800000000000ccccccccccccc2200000000000000000c0000000000000000000000222000333
0000000880000000000000000000000080000000000000008888800000000000ccccccccccccc2200001100000000000c0000000000000000000002020200031
0000000880000000000000000000000080000000000000000008800000000000cccccccc200000000000000000000000c0000000000000000000002022200031
0000000880000000000000000000000080000000000000008888800000000000cccccccc200000000001100000000000c0000000000000000000002020220111
0000000880000000000000000000000080000000000000000008800000000000cccccccc200000000000000000000011c1100000000000000000000222021010
0000080800800000000000000000000000022220800200002888888880000000ccccccccc8880000c888800000001100c0011000022200001111111111222221
0000080800080000000000000000000000020000800000000000000000000000ccccccccc8880000000000000011000000081110000000000000033333222221
0000000000008880000000000000000000020000800000000000000000000000ccccccccc8880000000000000100000000280101000000000000033333222221
0000000000000000000000000000002200000000800000000000000000000000cccccccc88880000000000000100888002020101000000000000003333222222
3300000000000000000000000000002200002220000000000000000000000000cccccccc88880000000000011008000002020100100000002220003333222222
803300000000000000000000000002022200000000000000000000000000000ccccccccc88880000000000011008000002228100100000002002001033222222
0803000000000000000000000000202200200000000000000000000000000c80cccccccc88880000000000010008000002020880110033002222001031222222
000030000000000000000000000202200002000000000000000000000000c800cccccccc88880000000000010000000002220000110033002222001031222222

