pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
_set_fps(60)
cls()
pal({[0]=0,130,141,2,14,8,136},1)
seed = rnd(-1)
srand(seed)
-- function for drawing a heart
function draw_heart(r, x, y, c)
 local t = 0
 points = {}
 num_points = 420
 for i=0,num_points do
  t = i/num_points * 2 * 3.14159
  add(points, {16 * sin(t)^3, 13 * cos(t) - 5 * cos(2*t) - 2 * cos(3*t) - cos(4*t)})
 end
 -- scale the points
 for i=1,#points do
   points[i][1] *= r/16
   points[i][2] *= r/16
 end
 -- flip the heart vertically
 for i=1,#points do
   points[i][2] *= -1
 end
 -- draw using lines between the points
 for i=1,#points-1 do
  line(points[i][1]+x, points[i][2]+y, points[i+1][1]+x, points[i+1][2]+y, c)
 end
end

hearts = {}
-- draw loop start
::_::
--if(rnd()>0.5)srand(seed)
srand(seed)
-- periodically draw a new heart
if t()*100%20==0 then 
  add(hearts, {2, rnd(128), rnd(128), rnd(7)})
  seed += 1
end
-- for each heart, draw it, then increase the radius (first value in the table)
for i=1,#hearts do
  draw_heart(hearts[i][1], hearts[i][2], hearts[i][3], hearts[i][4])
  hearts[i][1] *= 1.04
end
-- for each heart, if the radius is greater than 128, remove it
for i=#hearts,1,-1 do
  if hearts[i][1] > 256 then
    deli(hearts, i)
    seed+=1
  end
end
-- dithering
for i=0,2000 do
  pset(rnd(128), rnd(128), 0)
end
-- draw loop end
goto _



__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
000000000000000000iii0otte00iii0t0ttttt2i000000000000000000000000000000000000000000000000000000002eeete00000000088tttt2200000000
00000000000000eiiio2e00i88tte22000222o80tti000000000000000000000000000000000000000000000000000000et0tto202002000880ttttt0e200000
000000000000iiiooti000tee000o0ee0eeeet0to8tto00000000000000000000000000000000000000000000000o00tte0ee000000000ii008oo0t0t0e0ie00
0000000000iiiot00000eeo0o00o00o00o00ii888oto0ooo000000000000000000000000000000000000000000i00t0ee2000t0t0tt0t00iiii20080080ee0ie
00000000i2i2t00o00ot800oooo0t0000000ooo0000oot0o0o000000000000000000000000000000000000000000tot80ooo08808000000000000i0ee200e0ee
00000022228t0o00tti0oo0t0880000002t000000to00oo00oo000000000000000000000000000000000000200000ooo0t22i0000i0000000000000e0ee200oe
00000i22800008t0ii00008800002e0000tt000o0000o000et0e800000000000000000000000000000000828t0t000020000000000008080t000002t000ee200
00002008000800000t00002o0ee00i020000002200t0000t08e0ee000000000000000000000000000000020i000i00e00t00000000800t000000000020e2i0e2
0022t880i002e00080002000ti00e80000eee0i000i0000eet000ie00000000000000000000000000002808o8i000t0080t00000000000000000o0000220000t
0o288oii000tt008020000t0000000000000000o00000000o0ete0i0000000000000000000000000002800i800t00000i000ttttt0e00088000000o000022022
o2t00ii000t288000ot000000000e0000000e0000000020000000ii8e0000000000000000000000008ott0e200e0000008000000000000008080200000000008
2t80e0tee0e0o00i002000te00000000000000i000000000200000000o000000000000000000000080008et80000i0000eo000000000i000000000200oo00000
08e000te00000000000000000000008i0000080800000000000e002t00o000000000000000000008800000e0000800i000iii000000000000000800000000080
82e200802008i00i002e00o02000000000000000000000e000202000o0oi0000000000000000028800000e00t00000000000880000000000000000000000o020
8e2tt8000000000000000000000000000800800000008020000000oo0ooo20000000000000000088i000o0000000000e0000000000000002000002280002e000
e82t080000000000000t0000000000000000000000000000e0000000o0e0o000000000000000080i000000000000000000000000000000000200000o000002oi
80080000008000000000000000000000000000000000t00000008000000i2o000000000000000o0000000008000000000000o000i00000i0000200i0000o0200
20808020000080000i00000o00000000000000000000000000000000000080i0000000000020200000000800000000000000000000000000000000000i000000
0t0002000000e0e00000000000000t00000000000000000t00000e000000e0io00000000000et0000000000i000000000000000000000t000000000000000000
00000000000200i0000000000000000000000000000000000000000000000ooi00000000000ei20800000i00000000000000000000000000000000i00e000000
e00e00000000000000000000i0000000000000000000t000000200000000000io0000000002ito00000000000000000000000000000000000000i0000oi0000e
0800800008t0e0e0000000000000000000000i0000000000000000000020000ei0000000oie0o00o0000000000000000000000000000000000000000e0000000
000o00000t00000000000000000000000000000000000000000000o000020000io000000oo00000000000000000000000000000000000000000000000i0i0e00
00000000000008000000t00t00000000000000000000000000000000000000t00e00000oi00020000e000e0000000000020000000o00000000000000000000e0
00oi00o000000002020000000000200000000000000000000000000000000000oe20000ot00000000000000000i000000000000000000000o00000000000000e
0000000000000000000000000800000000000000000000000000000000000020e00000o00000000000000000000000000000000000000000000000000t0i0i02
i000000000000000000000000000000000000000000000000000000000000000e0e000200000000000000000000000000000000000000000000o0000000000i0
0000000800000000000000000000000000000000000000000000000000000000002e0i080000t000000000000000000000000000000000000000i00000002000
0002o00000000020000000000000000000000000000000000000000t00000000000t0020o0000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000e82t28t00800000000000000000000000000000t0000000000000000000000t
0002000000000000000000000000000000000000000000000000000000i00000000et02000000000000000000000000000000000000000000000000000000000
00000i00000000080000000000000000000000000000000000000000000000000000t00000000000000000000000000000000000000000000000000000000000
000000i0000000000000000000000000000000000000000000000000000000000000i0t000000000000000000000000000000000000000000000000000000000
202i000i000000000000000000000000000000000000000000000000000000000000i00000000000000000000000000000000000000000000000000000o00000
80000000000200000e0000000000000000000000000000000000000000000000000ot00000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000
0e000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000200000000000000000
00008000002080000000000t0000000000000000000000000000000000000000000000000000000000000000000000000000i000000000000000000000000000
00000080000000000000000000000000000000000000000000000000000000000000i00000000000000000000000000000000000000000000000e00000000000
0e000000800000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000
00088000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00i0000000000000o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000t000000000t00000o0
000000000e0000000000t00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e0080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000t00
00e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000tttteet00000000000000202222000000000000000000000000000000000000000000000000000
8000ot000000000000000000000000000000000000000000ete0tt2200o0000000000020o2000020000000000000000000000000000000000000000000000000
000e000000000000000000000000000000000000000000eee88t0i08820te000000ot20iiiii2o00t00000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000i000eie0t020iiot0000ott00t2000t02088i000000000000000000000000000000000000000000000
00000e00000000i000000000000000000000000000000o8080tit00000200880008082020002888ii0to0000000000000000000000000000000000000000000t
002000000000o000e000000000000000000000000000o000eoe080000e0o00i20t88et0200022880800t00000000000000000000000000000000002000000000
i20i020000000000000000000000000000000000000o000200t00000000000i20e2000000200i08io800000000000000000000000000000000000000t0000020
0000000000000000000000000000000000000000000o0t0eo00000t8008000200e00000000i0e000iite000000000000000000000000000000000000t0000000
800000e000000000000000000000000000000000000o0to02t0e0o000000000o800000000t000e0i0ot280000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000202o00ti0000000000000i0800008002i200002e282000000000000000000000000000000000000000000
o0000e00000000000000000000000000000000000002t2080000i00000000000t0000000000it00000e0i0000000000000000000000000000000000000e00000
o0000000i0000000000000000000000000000000000oi008it00it000000800o800000000i0io02080oii8000000000000000000000000000000000080000000
0000000020000000000000o00000000000t00000000oi002000080000000e000020000o00o000t0o8eo0to0000000000000000000000000000020800000008o0
o00i2002000t0008000000000000000000000000000200e28e000o00002000000000000020o00t000200t0000000000000000000000000000000000200000000
008ieo00t0000000000000000000000000000000o0000iit800o00000000000o0000o0o000008000000et0000000000000000000000000000000000000000000
00i000000000000000000000000000000000000000002208002i000000000e0000i000000000oi2o0e00i0000000000000000000000000000000000000000000
0000o00i202000000000000000000000000000000000220280o0000002000000000000000000020000ii00000000000000000000000000000000000008000000
000000000000000t0000000000000000000000000000tei80080t000000oo00000000t00e00e0o080ooi0000000000000000000000000000000000000000o000
080000000002000000000000000000000000000000000ti00080t0000000t0000008i000080000e0o8i000000000000000000000000000000000000000000000
i200000iti0000000000000i0000000000000000000000ti020008ee08o00000000000000002i000o00000000000000000000000000000000000000000e0200e
0i0000000000000000200000000000000000000000000002t8202i000t00000e000t00800020t00o000000000000000000000000000000000000000000000000
020000i2808000000000000000000000000000000000000t2t0200000000o80000e00000e000iit20000000000000000000000000000000e0000000000i000e0
00e0000i0i00000000000000000000000000000000000000082020e208e008o20o00000i00iiit2000000000000000000000000000000000000000200000o000
i20000o0000t0000000000t0t00000000000000000000000008i00ie8088000000i0o000000t00000000000000000000000000000000000000000000000o0000
2000eo0t000000000000000000000000000000000000000000000iite82ti00t0e20tio000t08000000000000000000000000000000000000000000000oo0080
2it0o000t000000t000000000000000000000000000000000000000it0000000e0ti0eio00t80000000000000000000000000000000000000000000000000800
02i0oo0o00i000e800000080000000000000000000000000000008e0i820200ite020i080t80000000000000000000000000000000000000000e000000000020
0o2i00o000o000008te0t0000000000000000000000000000000008i008i0oo000002o8008000000000000000000000000000000000o000080000000o00ot000
002ee0i00000t000e000000000000000000000000000000000000000io0oo0020o200000e000000000000000000000000000000000000000000800t000i0000i
0000e00i000800o000000000t000000000000000000000000000000000e0to00800000ie000000000000000000000000000000000000000000000000008000i2
000000e0i080800ot00000000000000000000000000000000000000000t00008oi02iio0000000000000000000000000000000000000000000000000000000o8
000000i00000t00000000000000000000000000000000000000000000000000t000i0000000000000000000000000000000000000000000000000000000o0000
0000000i00i00t00000e0ti0000t000002000000000000000000000000000i20i002i000000000000000000000000000000000080000i00o02e0000000o00ei2
00000000i0020i002t0000000000800000000000000000000000000000000e0o00i800000000000000000000000000000000000000000i000000000000000i00
000000000ie02820000ot0000800t000000000000t0000000000000000000202e2o000000000000000000000000000000000000000000000000200000020i2tt
0000000000i000000o00000080008t0000080000000000000000000000000000oo00000000000000000000000000000000000000000000o00000000000e02tt2
0000000000000808000000000t0080000000000000000000000000000000000oi0000000000000000000000000000i0000000000t0000000000000i00e02tt20
00000000000i008e800o000000t000000000000000020000000000000000000020000000000000000000000000000000000000000e0000000i00o0020i0tt200
000000000000i0i8t020o0000000000i00000000000000000000000000000002o0000000000000000000000000000000000000t00t0008e00000ii00i20t2000
0000000000000iei8t0200000000o000000000000000000000000000000000000000000000000000000000000000000000000000000002i0000002t0t0t20000
000000000000000e8028000o000000e0080000000000000000000000000000000000000000000000000000000000o0000000000000t00i0000002t2000o00000
000000000000000i0t820000o000000e000000000000000000000000000000000000000000000000i0000000000000000000000000000002ei0000t00o000000
0000000000000000eit808000t0080000e00000000000000000000000000000000000000000000000000000000000000000000000t00082e0022e000o0000000
00000000000000000eit02000000200080e0000t00000000000000000000000000000000000000000000000000000000020o00000000000i002eeioo00000000
000000000000000000oi00i000i0000000ie00000000000000000000000000000000000000000000000000000000000000i000000i0000i0020eioi000000000
0000000000000000000o008080000200000000000000000000000000000000000000000000000o000000000000000i00000000000000e08220eioi0000000000
00000000000000000000oetoo80002000000800000000i000000000000000000000000000000000000000000000000000020000000ie00oi0eioi00000000000
0000000000000000000000ee0o80ii200i0000it000000000000000000000000000000000000000000i0000000000000000000000i088o200ioe000000000000
00000000000000000000000oe00020200000000iit00000000000000000000000000000000000000000000000000020000008o00000000000800000000000000
000000000000000000000000oe00o2020000e00000000000000000000000000000000000000000000000i00000000020000000000i0008oe8000000000000000
00000000000000000000000002ee0ot000000008000880000000200000000000000000000000000000000000000000000oee0000io000oe80000000000000000
000000000000000000000000002tee8te2200000000000000000000000000000000000000000000000000000000020000000080000o0o8800000000000000000
0000000000000000000000000000tii8000200000it000000000000000000000i000000000000000000000000000000o000i000o000o80000000000000000000
00000000000000000000000000000t0i080000t2000000080000000000000000000000000000000000000000000000000i00e0000oo000000000000000000000
000000000000000000000000000000tii020020000i0000000e000000000000000000000000000000000000000000o000002o20ooo8000000000000000000000
0000000000000000000000000000000tio08000000000000t0000000000000000000000000000000000000000000000i0020itt0080000000000000000000000
00000000000000000000000000000000tie8800000o00000000000000000000000000000000000000000o000000e08io000ittt0800000000000000000000000
0000000000000000000000000000000000ie800o00i00000t00000000t0000000i000000000000e00000i0oe000i0o0e00iott08000000000000000000000000
00000000000000000000000000000000000ie808o08e008000000000000000000000000000080000000000000000o0000tott880000000000000000000000000
000000000000000000000000000000000000io208o000i0000000000t000000000000000000000000000o000i00000ti0ott8800000000000000000000000000
0000000000000000000000000000000000000eo000o0i0000000000000000000000000000000000000000000000000ttoto80000000000000000000000000000
00000000000000000000000000000000000000e08200e00820000000i00000000000000000000000000000000ie800t8t0000000000000000000000000000000
000000000000000000000000000000000000000e00200e0082080000000000000000000000000000e000e0200e00t00288000000000000000000000000000000
0000000000000000000000000000000000000000eit20o00000000000000000000000000000i0000e0000000e00ti00880000000000000000000000000000000
00000000000000000000000000000000000000000eet2020000000000000000000t0000000000000000000000002022800000000000000000000000000000000
0000000000000000000000000000000000000000000eit8002002000i00000000000000000000000000000o00t20228000000000000000000000000000000000
00000000000000000000000000000000000000000000e0t88020e2000000000000000000080000i00000t002t002880000000000000000000000000000000000
000000000000000000000000000000000000000000000ti080000000e0000000t0000000000e0008000t0e202020000000000000000000000000000000000000
0000000000000000000000000000000000000000000000te08002to00000000000o000000o000000iot00000i280000000000000000000000000000000000000
00000000000000000000000000000000000000000000000te00t00t0e00000000t0000000000000i0t0i8o000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000te8o200000000000000o0000000008002000o0i0o000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000tio80eet0e0080i0000000i0000t0020i2o000o0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000tio82e000200000000000000000008220000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000ti08200t0200e000000i00000002800000o000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000i02oi0000i20000000000000000eii0o0000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000o020800200t0e0000000000t000i0000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000o000800200t00000200020e000ot000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000o8000000000000000000o0eoot0000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000o0t0000000000000000e0i2te0000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000i0i0080e000000000i0e800et00000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000oe0o0e0000000000000oo2t000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000002eto0e00t00t000ieoi0t0000000000000000000000000000000000000000000000000

